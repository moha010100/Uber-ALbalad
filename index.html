<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Uber Albalad</title>

<style>
body {
  font-family: sans-serif;
  background: #f3f3f3;
  margin: 0;
  padding: 0;
}

/* الشريط العلوي */
.header {
  background: #FFD700;
  padding: 15px;
  text-align: center;
  font-size: 26px;
  font-weight: bold;
  color: #000;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

/* المحتوى */
.container {
  max-width: 1100px;
  margin: 30px auto;
  display: grid;
  grid-template-columns: 1fr 300px;
  gap: 25px;
}

.orders, .sidebar {
  background: #fff;
  padding: 20px;
  border-radius: 15px;
  box-shadow: 0 0 5px #ccc;
}

.order-card {
  background: #fff;
  padding: 15px;
  border-radius: 12px;
  box-shadow: 0 0 4px #ccc;
  margin-bottom: 15px;
}

.order-img {
  width: 100%;
  height: 180px;
  background: #eee;
  border-radius: 10px;
  object-fit: cover;
}

.btn {
  padding: 8px 14px;
  border-radius: 8px;
  cursor: pointer;
  border: none;
}

.btn-blue { background: #1e85e5; color: #fff; }
.btn-red  { background: #e53935; color: #fff; }
.btn-gray { background: #eee; }

/* الفورم */
.modal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.4);
  display: none;
  align-items: center;
  justify-content: center;
}

.modal.show { display: flex; }

.modal-box {
  background: #fff;
  padding: 20px;
  width: 100%;
  max-width: 400px;
  border-radius: 12px;
}
</style>
</head>

<body>

<!-- الشريط العلوي -->
<div class="header">Uber Albalad</div>

<div class="container">
  
  <!-- قائمة الطلبات -->
  <div class="orders">
    <h2>قائمة الطلبات</h2>
    <div id="ordersList">لا توجد طلبات حاليا</div>
  </div>

  <!-- المشرفين -->
  <div class="sidebar">
    <h3>المشرفين</h3>
    <p>اسم المشرف: مشرف التجربة</p>
    <p>الكود: 010100</p>

    <button id="addBtn" class="btn btn-blue" style="display:none;" onclick="openForm()">إضافة طلب</button>
    <button onclick="location.reload()" class="btn btn-gray">إعادة تحميل</button>

    <p style="margin-top:10px;">لا توجد معاملات مالية في هذه الصفحة.</p>
  </div>

</div>

<!-- نموذج الإضافة -->
<div class="modal" id="formModal">
  <div class="modal-box">
    <h3>إضافة طلب</h3>
    <input id="orderName" type="text" placeholder="اسم الطلب" style="width:100%;padding:8px;">
    <input id="orderImg" type="text" placeholder="رابط الصورة" style="width:100%;padding:8px;margin-top:10px;">
    
    <div style="text-align:left;margin-top:15px;">
      <button class="btn btn-blue" onclick="saveOrder()">حفظ</button>
      <button class="btn btn-gray" onclick="closeForm()">إلغاء</button>
    </div>
  </div>
</div>

<script>
let orders = [];
let loggedAsAdmin = false;

// عند تحميل الموقع — يسأل عن الكود مرة واحدة
window.onload = () => {
  let code = prompt("ادخل كود المشرف:");

  if (code === "010100") {
    loggedAsAdmin = true;
    document.getElementById("addBtn").style.display = "block";
  }
};

// فتح وإغلاق الفورم
function openForm() {
  document.getElementById("formModal").classList.add("show");
}

function closeForm() {
  document.getElementById("formModal").classList.remove("show");
}

// حفظ الطلب
function saveOrder() {
  let name = document.getElementById("orderName").value;
  let img  = document.getElementById("orderImg").value;

  if (!name || !img) {
    alert("أكمل البيانات!");
    return;
  }

  orders.push({ name, img });
  renderOrders();
  closeForm();
}

// عرض الطلبات
function renderOrders() {
  let list = document.getElementById("ordersList");

  if (orders.length === 0) {
    list.innerHTML = "لا توجد طلبات حاليا";
    return;
  }

  list.innerHTML = "";

  orders.forEach((order, index) => {
    list.innerHTML += `
      <div class="order-card">
        <img src="${order.img}" class="order-img">
        <h4>${order.name}</h4>

        ${loggedAsAdmin ? `
        <button class="btn btn-red" onclick="deleteOrder(${index})">حذف</button>
        ` : ""}
      </div>
    `;
  });
}

function deleteOrder(i) {
  if (!loggedAsAdmin) return;
  orders.splice(i,1);
  renderOrders();
}
</script>

</body>
</html>
